## 线段树讲解
> 作者: 张今天
>
> 日期: 2019-8-31
>
----

### 1. 普通的方式构造的线段树
**解决的问题:**

> 假如有一个数组arr,若要修改arr中的某值或求区间`[l,r]`内所有数值的和,该怎么做呢?
- 直接利用数组的索引就可以修改,时间复杂度`O(1)`,求区间和需要利用循环依次相加求和,时间复杂度为`O(l - r + 1)`,
可见如果数量多的话,求和所用的时间复杂度会很高.
- 利用前缀和的思想,用一个数组来保存数组中元素的前缀和,求和时,只需计算一次`sum[r] - sum[l -1]`,就能得到区间和,元素进行修改后
保存前缀和的数组也需要修改,但若修改多次,时间复杂度将会很高.


- 线段树的构建

- 线段树的单点修改、区间查询

- 线段树的区间修改、区间查询

### 2. zkw线段树

**差分思想:**

如果有一个数列a为`{1, 6, 8, 5, 10}`; 定义`b[i] = a[i] - a[i-1] (i >=1)`, 则得出的b数列为:`{1, 5, 2, -3, 5}`,
那么若已知`b[i]` 怎么求`a[i]`呢? 这个很容易由定义推出来:`a[i] = b[i] +...+ b[0]`.那这个有什么用呢? 假如现在要修改`a中的
一个区间【x , y】的所有值 + k`,还要求出修改后的一个`a[i]`.其实就是相当于在 `b[x]+=k, b[y+1]-=k`,利用`b[i]`求想要的`a[i]`时,
也相当于前缀和,修改x出的`b[i]`后,利用前缀和时求`a[i]`,其区间`[x, y]`内的所有`a[i]`每个都加上了这个k,到`y+1`处又减去,又恢复到
了原来的前缀和.




- zkw线段树的构建

- zkw线段树的单点修改、区间查询

- zkw线段树的区间修改、区间求和

- zkw线段树的区间修改、区间最值


### 3. 应用
